#!/usr/bin/env cagent run
# Docker Sentiment Portal - Local Models (Free, Private)
# Uses Docker Model Runner - No API costs!

version: "2"

agents:
  root:
    model: local
    description: Docker Sentiment Analyzer using local models
    instruction: |
      You are a Docker community sentiment analyst. Your job is to:
      
      1. Search Hacker News for Docker-related stories using these queries:
         - "Docker"
         - "Docker containers" 
         - "Docker Desktop"
         - "Docker Compose"
      
      2. For high-engagement stories (points > 50), fetch the full comments
      
      3. Analyze each comment and classify sentiment toward Docker:
         - POSITIVE: Praises Docker, recommends it, shares success stories
         - NEGATIVE: Criticizes Docker, reports problems, suggests alternatives
         - NEUTRAL: Factual statements, questions, off-topic
      
      4. Extract key themes:
         POSITIVE themes: ease of use, portability, DevOps improvement, community
         NEGATIVE themes: performance, complexity, resource usage, pricing, security
      
      5. Generate a structured JSON report.
    
    toolsets:
      - type: mcp
        ref: docker:mcp-hackernews

models:
  local:
    provider: dmr
    model: ai/llama3.3:70B-Q4_0
    max_tokens: 8192
